
{{g
//*** {{includeName}}
}}

{{
// Set{{= col.Identifier }} sets the value of {{= col.Identifier }} in the object, to be saved later in the database using the Save() function.
{{if col.IsAutoPK}}
// Normally you will not need to call this function, since the {{= col.Identifier }} value is automatically generated by the
// database driver. Exceptions might include importing data to a new database, or correcting primary key conflicts when
// merging data. You cannot change a primary key for a record that has been written to the database.
// (While SQL databases allow it, most NoSQL databases do not)
{{if}}
func (o *{{= table.DecapIdentifier }}Base) Set{{= col.Identifier }}(v {{= col.GoType() }}) {
{{if col.IsAutoPK }}
    if o._restored {
        panic ("you cannot change an auto-generated primary key")
    }
{{if}}
{{if col.Size > 0 && !col.IsEnumArray() }}
    if utf8.RuneCountInString(v) > {{= table.Identifier}}{{= col.Identifier}}MaxLength {
        panic("attempted to set {{= table.Identifier}}.{{= col.Identifier }} to a value larger than its maximum length in runes")
    }
{{if}}
{{if !col.IsAutoPK }}
	if o._restored &&
	    o.{{= col.VariableIdentifier() }}IsLoaded && // if it was not selected, then make sure it gets set, since our end comparison won't be valid
{{if col.IsNullable }}
		!o.{{= col.VariableIdentifier() }}IsNull && // if the db value is null, force a set of value
{{if}}
{{if col.IsEnumArray() }}
        o.{{= col.VariableIdentifier() }}.Equal(v) {
{{else}}
        o.{{= col.VariableIdentifier() }} == v {
{{if}}
        // no change
        return
    }
{{if}}

	o.{{= col.VariableIdentifier() }}IsLoaded = true
{{if col.IsEnumArray() }}
    o.{{= col.VariableIdentifier() }} = v.Clone()
{{else}}
	o.{{= col.VariableIdentifier() }} = v
{{if}}
	o.{{= col.VariableIdentifier() }}IsDirty = true
{{if col.IsNullable }}
    o.{{= col.VariableIdentifier() }}IsNull = false
{{if}}
{{if col.IsReference() }}
	o.{{= col.ReferenceVariableIdentifier() }} = nil
{{if}}
}

}}