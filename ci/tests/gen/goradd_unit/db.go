// Code generated by goradd-orm. DO NOT EDIT.

// Package goradd_unit contains the object relational model for the goradd_unit database.
//
// Queries use a builder pattern, started with a Query* function. Add functions to the builder to further constrain the query,
// using nodes from the [node] package to refer to tables and columns in the database. End the query with either a Load call to get a
// list of items, a Get call to get one item, or a Count call to count the number of items in the query.
//
// Some Examples
//
//	projects := model.QueryProjects().Load()
//
// Returns all the projects in the database.
//
//	projects := model.QueryProjects().
//	    Join(node.Project().Manager()).
//	    Where(op.GreaterOrEqual(node.Project().StartDate(), time.NewDate(2006, 1, 1)).
//	    OrderBy(node.Project().Num()).
//	    Load()
//
// Returns the projects that started in 2006 or later, with the manager objects attached, and ordered by project number.
// To get the manager of the first project returned, you can do this:
//
//	firstManager := projects[0].Manager()
//
// See the goradd-orm documentation for more information.
package goradd_unit

import (
	"context"
	"encoding/json"
	"fmt"
	"io"

	"github.com/goradd/gro/db"
	"github.com/goradd/gro/query"
)

// Database returns the database object corresponding to "goradd_unit" in the global database cluster.
// Use this to call directly into the database through the DatabaseI interface, or if you want to call functions
// specific to the database, cast the interface to the driver.
func Database() db.DatabaseI {
	return db.GetDatabase("goradd_unit")
}

// ClearAll deletes all the data in the database, except for data in Enum tables.
func ClearAll(ctx context.Context) {
	d := Database()
	db.WithConstraintsOff(ctx, d, func(ctx context.Context) error {
		_ = d.DeleteWhere(ctx, "leaf_nl_assn", nil)

		_ = d.DeleteWhere(ctx, "leaf_unl", nil)
		_ = d.DeleteWhere(ctx, "leaf_un", nil)
		_ = d.DeleteWhere(ctx, "leaf_ul", nil)
		_ = d.DeleteWhere(ctx, "leaf_u", nil)
		_ = d.DeleteWhere(ctx, "leaf_nl", nil)
		_ = d.DeleteWhere(ctx, "leaf_n", nil)
		_ = d.DeleteWhere(ctx, "leaf_l", nil)
		_ = d.DeleteWhere(ctx, "leaf", nil)
		_ = d.DeleteWhere(ctx, "alt_leaf_un", nil)
		_ = d.DeleteWhere(ctx, "unsupported_type", nil)
		_ = d.DeleteWhere(ctx, "type_test", nil)
		_ = d.DeleteWhere(ctx, "two_key", nil)
		_ = d.DeleteWhere(ctx, "timeout_test", nil)
		_ = d.DeleteWhere(ctx, "root_unl", nil)
		_ = d.DeleteWhere(ctx, "root_un", nil)
		_ = d.DeleteWhere(ctx, "root_ul", nil)
		_ = d.DeleteWhere(ctx, "root_u", nil)
		_ = d.DeleteWhere(ctx, "root_nl", nil)
		_ = d.DeleteWhere(ctx, "root_n", nil)
		_ = d.DeleteWhere(ctx, "root_l", nil)
		_ = d.DeleteWhere(ctx, "root", nil)
		_ = d.DeleteWhere(ctx, "multi_parent", nil)
		_ = d.DeleteWhere(ctx, "double_index", nil)
		_ = d.DeleteWhere(ctx, "auto_gen", nil)
		_ = d.DeleteWhere(ctx, "alt_root_un", nil)
		// Ignore errors, since one error generated might be that there is no data, which we don't care about.
		return nil
	})
}

// JsonEncodeAll sends the entire database to writer as JSON.
func JsonEncodeAll(ctx context.Context, writer io.Writer) error {
	encoder := json.NewEncoder(writer)
	encoder.SetIndent("", "  ")

	if _, err := io.WriteString(writer, "[\n"); err != nil {
		return fmt.Errorf("writer error: %w", err)
	}

	{ // Write AltRootUns
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"alt_root_un"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryAltRootUns(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write AutoGens
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"auto_gen"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryAutoGens(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write DoubleIndices
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"double_index"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryDoubleIndices(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write MultiParents
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"multi_parent"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryMultiParents(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write Roots
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"root"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryRoots(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write RootLs
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"root_l"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryRootLs(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write RootNs
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"root_n"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryRootNs(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write RootNls
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"root_nl"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryRootNls(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write RootUs
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"root_u"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryRootUs(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write RootUls
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"root_ul"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryRootUls(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write RootUns
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"root_un"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryRootUns(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write RootUnls
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"root_unl"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryRootUnls(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write TimeoutTests
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"timeout_test"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryTimeoutTests(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write TwoKeys
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"two_key"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryTwoKeys(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write TypeTests
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"type_test"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryTypeTests(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write UnsupportedTypes
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"unsupported_type"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryUnsupportedTypes(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write AltLeafUns
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"alt_leaf_un"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryAltLeafUns(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write Leafs
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"leaf"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryLeafs(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write LeafLs
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"leaf_l"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryLeafLs(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write LeafNs
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"leaf_n"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryLeafNs(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write LeafNls
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"leaf_nl"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryLeafNls(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write LeafUs
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"leaf_u"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryLeafUs(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write LeafUls
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"leaf_ul"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryLeafUls(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write LeafUns
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"leaf_un"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryLeafUns(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, ","); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}
	{ // Write LeafUnls
		if _, err := io.WriteString(writer, "["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, `"leaf_unl"`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := QueryLeafUnls(ctx).LoadCursor()
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		defer cursor.Close()
		obj, err2 := cursor.Next()
		if err2 != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}
		if obj != nil {
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}

		for obj, err = cursor.Next(); obj != nil && err == nil; obj, err = cursor.Next() {
			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(obj); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if err != nil {
			return fmt.Errorf("database cursor error: %w", err)
		}

		if _, err := io.WriteString(writer, "]\n]"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		if _, err := io.WriteString(writer, "\n"); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}

	db := Database()
	{ // Write leaf_nl_assn
		if _, err := io.WriteString(writer, ",\n["); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
		if _, err := io.WriteString(writer, `"leaf_nl_assn",[`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}

		cursor, err := db.Query(ctx, "leaf_nl_assn",
			map[string]query.ReceiverType{
				"leaf_2_id": query.ColTypeAutoPrimaryKey,
				"leaf_1_id": query.ColTypeAutoPrimaryKey,
			},
			nil,
			[]string{"leaf_2_id", "leaf_1_id"})
		if err != nil {
			return fmt.Errorf("query error: %w", err)
		}
		if rec, err2 := cursor.Next(); err2 != nil {
			return fmt.Errorf("database cursor error: %w", err2)
		} else if rec != nil {
			if err = encoder.Encode(rec); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		for {
			rec, err2 := cursor.Next()
			if err2 != nil {
				return fmt.Errorf("database cursor error: %w", err2)
			}
			if rec == nil {
				break
			}

			if _, err := io.WriteString(writer, ",\n"); err != nil {
				return fmt.Errorf("writer error: %w", err)
			}
			if err := encoder.Encode(rec); err != nil {
				return fmt.Errorf("encoding error: %w", err)
			}
		}
		if _, err := io.WriteString(writer, `]]`); err != nil {
			return fmt.Errorf("writer error: %w", err)
		}
	}

	if _, err := io.WriteString(writer, "]"); err != nil {
		return fmt.Errorf("writer error: %w", err)
	}
	return nil
}

// JsonDecodeAll imports the entire database from JSON that was created using JsonEncodeAll.
// This is done within a transaction and with constraints off in case there are circular references.
func JsonDecodeAll(ctx context.Context, reader io.Reader) error {
	database := Database()
	return db.WithConstraintsOff(ctx, database, func(ctx context.Context) error {
		return jsonDecodeAll(ctx, reader)
	})
}

func jsonDecodeAll(ctx context.Context, reader io.Reader) error {
	decoder := json.NewDecoder(reader)

	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the JSON to start with an array in jsonDecodeAll")
	}

	for decoder.More() {
		if err := jsonDecodeTable(ctx, decoder); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("Error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeAll")
		return err
	}

	return nil
}

func jsonDecodeTable(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		fmt.Errorf("error: Expected the duple to start with an array in jsonDecodeTable")
	}

	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("Error reading name of table: %w", err)
	}

	var tableName string
	var ok bool

	if tableName, ok = token.(string); !ok {
		return fmt.Errorf("expected a name of a table.")
	} else {
		switch tableName {
		case "alt_root_un":
			err = jsonDecodeAltRootUns(ctx, decoder)
		case "auto_gen":
			err = jsonDecodeAutoGens(ctx, decoder)
		case "double_index":
			err = jsonDecodeDoubleIndices(ctx, decoder)
		case "multi_parent":
			err = jsonDecodeMultiParents(ctx, decoder)
		case "root":
			err = jsonDecodeRoots(ctx, decoder)
		case "root_l":
			err = jsonDecodeRootLs(ctx, decoder)
		case "root_n":
			err = jsonDecodeRootNs(ctx, decoder)
		case "root_nl":
			err = jsonDecodeRootNls(ctx, decoder)
		case "root_u":
			err = jsonDecodeRootUs(ctx, decoder)
		case "root_ul":
			err = jsonDecodeRootUls(ctx, decoder)
		case "root_un":
			err = jsonDecodeRootUns(ctx, decoder)
		case "root_unl":
			err = jsonDecodeRootUnls(ctx, decoder)
		case "timeout_test":
			err = jsonDecodeTimeoutTests(ctx, decoder)
		case "two_key":
			err = jsonDecodeTwoKeys(ctx, decoder)
		case "type_test":
			err = jsonDecodeTypeTests(ctx, decoder)
		case "unsupported_type":
			err = jsonDecodeUnsupportedTypes(ctx, decoder)
		case "alt_leaf_un":
			err = jsonDecodeAltLeafUns(ctx, decoder)
		case "leaf":
			err = jsonDecodeLeafs(ctx, decoder)
		case "leaf_l":
			err = jsonDecodeLeafLs(ctx, decoder)
		case "leaf_n":
			err = jsonDecodeLeafNs(ctx, decoder)
		case "leaf_nl":
			err = jsonDecodeLeafNls(ctx, decoder)
		case "leaf_u":
			err = jsonDecodeLeafUs(ctx, decoder)
		case "leaf_ul":
			err = jsonDecodeLeafUls(ctx, decoder)
		case "leaf_un":
			err = jsonDecodeLeafUns(ctx, decoder)
		case "leaf_unl":
			err = jsonDecodeLeafUnls(ctx, decoder)
		case "leaf_nl_assn":
			err = jsonDecodeLeafNlAssn(ctx, decoder)
		default:
			return fmt.Errorf("unknown table: %s", tableName)
		}
		if err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeTable for table %s", tableName)
	}

	return nil
}

func jsonDecodeAltRootUns(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the AltRootUn list to start with an array")
	}

	for decoder.More() {
		obj := NewAltRootUn()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeAltRootUns")
	}

	return nil
}
func jsonDecodeAutoGens(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the AutoGen list to start with an array")
	}

	for decoder.More() {
		obj := NewAutoGen()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeAutoGens")
	}

	return nil
}
func jsonDecodeDoubleIndices(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the DoubleIndex list to start with an array")
	}

	for decoder.More() {
		obj := NewDoubleIndex()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeDoubleIndices")
	}

	return nil
}
func jsonDecodeMultiParents(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the MultiParent list to start with an array")
	}

	for decoder.More() {
		obj := NewMultiParent()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeMultiParents")
	}

	return nil
}
func jsonDecodeRoots(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the Root list to start with an array")
	}

	for decoder.More() {
		obj := NewRoot()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeRoots")
	}

	return nil
}
func jsonDecodeRootLs(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the RootL list to start with an array")
	}

	for decoder.More() {
		obj := NewRootL()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeRootLs")
	}

	return nil
}
func jsonDecodeRootNs(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the RootN list to start with an array")
	}

	for decoder.More() {
		obj := NewRootN()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeRootNs")
	}

	return nil
}
func jsonDecodeRootNls(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the RootNl list to start with an array")
	}

	for decoder.More() {
		obj := NewRootNl()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeRootNls")
	}

	return nil
}
func jsonDecodeRootUs(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the RootU list to start with an array")
	}

	for decoder.More() {
		obj := NewRootU()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeRootUs")
	}

	return nil
}
func jsonDecodeRootUls(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the RootUl list to start with an array")
	}

	for decoder.More() {
		obj := NewRootUl()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeRootUls")
	}

	return nil
}
func jsonDecodeRootUns(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the RootUn list to start with an array")
	}

	for decoder.More() {
		obj := NewRootUn()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeRootUns")
	}

	return nil
}
func jsonDecodeRootUnls(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the RootUnl list to start with an array")
	}

	for decoder.More() {
		obj := NewRootUnl()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeRootUnls")
	}

	return nil
}
func jsonDecodeTimeoutTests(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the TimeoutTest list to start with an array")
	}

	for decoder.More() {
		obj := NewTimeoutTest()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeTimeoutTests")
	}

	return nil
}
func jsonDecodeTwoKeys(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the TwoKey list to start with an array")
	}

	for decoder.More() {
		obj := NewTwoKey()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeTwoKeys")
	}

	return nil
}
func jsonDecodeTypeTests(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the TypeTest list to start with an array")
	}

	for decoder.More() {
		obj := NewTypeTest()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeTypeTests")
	}

	return nil
}
func jsonDecodeUnsupportedTypes(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the UnsupportedType list to start with an array")
	}

	for decoder.More() {
		obj := NewUnsupportedType()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeUnsupportedTypes")
	}

	return nil
}
func jsonDecodeAltLeafUns(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the AltLeafUn list to start with an array")
	}

	for decoder.More() {
		obj := NewAltLeafUn()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeAltLeafUns")
	}

	return nil
}
func jsonDecodeLeafs(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the Leaf list to start with an array")
	}

	for decoder.More() {
		obj := NewLeaf()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeLeafs")
	}

	return nil
}
func jsonDecodeLeafLs(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the LeafL list to start with an array")
	}

	for decoder.More() {
		obj := NewLeafL()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeLeafLs")
	}

	return nil
}
func jsonDecodeLeafNs(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the LeafN list to start with an array")
	}

	for decoder.More() {
		obj := NewLeafN()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeLeafNs")
	}

	return nil
}
func jsonDecodeLeafNls(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the LeafNl list to start with an array")
	}

	for decoder.More() {
		obj := NewLeafNl()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeLeafNls")
	}

	return nil
}
func jsonDecodeLeafUs(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the LeafU list to start with an array")
	}

	for decoder.More() {
		obj := NewLeafU()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeLeafUs")
	}

	return nil
}
func jsonDecodeLeafUls(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the LeafUl list to start with an array")
	}

	for decoder.More() {
		obj := NewLeafUl()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeLeafUls")
	}

	return nil
}
func jsonDecodeLeafUns(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the LeafUn list to start with an array")
	}

	for decoder.More() {
		obj := NewLeafUn()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeLeafUns")
	}

	return nil
}
func jsonDecodeLeafUnls(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("expected the LeafUnl list to start with an array")
	}

	for decoder.More() {
		obj := NewLeafUnl()
		if err = decoder.Decode(&obj); err != nil {
			return err
		}
		if err = obj.Save(ctx); err != nil {
			return err
		}
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeLeafUnls")
	}

	return nil
}

func jsonDecodeLeafNlAssn(ctx context.Context, decoder *json.Decoder) error {
	token, err := decoder.Token()
	if err != nil {
		return fmt.Errorf("Error reading opening token: %w", err)
	}
	// Ensure the first token is a start of an array
	if delim, ok := token.(json.Delim); !ok || delim != '[' {
		return fmt.Errorf("Error: Expected the LeafNlAssn list to start with an array")
	}

	database := Database()
	for decoder.More() {
		var imp struct {
			Src  query.AutoPrimaryKey `json:"leaf_2_id"`
			Dest query.AutoPrimaryKey `json:"leaf_1_id"`
		}

		if err = decoder.Decode(&imp); err != nil {
			return err
		}
		db.Associate(ctx, database, "leaf_nl_assn", "leaf_2_id", imp.Src, "leaf_1_id", imp.Dest)
	}

	// Check if the last token is the end of the array
	token, err = decoder.Token()
	if err != nil {
		return fmt.Errorf("error reading the last token: %w", err)
	}

	if delim, ok := token.(json.Delim); !ok || delim != ']' {
		return fmt.Errorf("expected the JSON to end with a closing array token in jsonDecodeLeafNlAssn")
	}

	return nil
}
